{
  "server": {
    "debug": false,
    "listenerType": "tcp",
    "listen": ":8080",
    "readTimeout": 30,
    "writeTimeout": 30,
    "idleTimeout": 120,
    "writeBufferSize": 8192,
    "readBufferSize": 8192,
    "bodyLimit": 1048576,
    "trustedProxies": ["127.0.0.1", "::1"]
  },

  "logger": {
    "file": "./logs/peerapi-agent.log",
    "maxSize": 10,
    "maxBackups": 10,
    "maxAge": 30,
    "compress": true,
    "consoleLogging": true
  },

  "peerApiCenter": {
    "url": "http://10.127.21.55:3000",
    "secret": "hehehe",
    "requestTimeout": 15,
    "routerUuid": "40ca6d20-048d-4cb2-89be-e94f99af6781",
    "agentSecret": "hahaha",
    "heartbeatInterval": 30,
    "syncInterval": 300,
    "metricInterval": 60,
    "wanInterfaces": ["eth0"],
    "sessionPassthroughJwtSecert": "YFKBBPQJVVQWZVYFJYQ",
    "interfaceIpAllowPublic": false,
    "interfaceIpBlacklist": [
        "192.168.0.0/16",
        "172.16.0.0/16",
        "172.17.0.0/16",
        "172.18.0.0/16",
        "172.19.0.0/16",
        "172.24.0.0/16",
        "172.25.0.0/16",
        "172.26.0.0/16",
        "172.27.0.0/16",
        "172.28.0.0/16",
        "172.29.0.0/16",
        "172.30.0.0/16",
        "172.31.0.0/16",
        "127.0.0.0/8",
        "224.0.0.0/4",
        "::1/128",
        "ff00::/8",
        "172.23.91.0/25",
        "172.23.91.128/26",
        "10.127.21.0/24",
        "10.127.25.0/24",
        "fd42:4242:2189::/48",
        "172.20.168.112/28",
        "fd20:a870::/48",
        "172.20.0.53/32",
        "fd42:d42:d42:54::/64"
    ]
  },

  "bird": {
    "controlSocket": "/var/run/bird/bird.ctl",
    "poolSize": 5,
    "poolSizeMax": 64,
    "connectionMaxRetries": 5,
    "connectionRetryDelayMs": 50,
    "bgpPeerConfDir": "/etc/bird/peers",
    "bgpPeerConfTemplateFile": "./templates/peer.conf",
    "ipCommandPath": "/usr/sbin/ip"
  },

  "sysctl": {
    "commandPath": "/usr/sbin/sysctl",
    "ifaceIpForwarding": true,
    "ifaceIp6Forwarding": true,
    "ifaceIp6AcceptRa": false,
    "ifaceRpFilter": 0,
    "ifaceAcceptLocal": true
  },

  "metric": {
    "autoTeardown": true,
    "maxMindGeoLiteCountryMmdbPath": "./GeoLite2-Country.mmdb",
    "geoIpCountryMode": "blacklist",
    "blacklistGeoCountries": [ "CN" ],
    "whitelistGeoCountries": [ "US", "DE", "FR", "GB", "NL", "JP", "CA", "AU" ],
    "pingCommandPath": "/usr/bin/ping",
    "pingTimeout": 5,
    "pingCount": 2,
    "pingCountOnFail": 1,
    "pingWorkerCount": 64,
    "sessionWorkerCount": 64,
    "maxRTTMetricsHistroy": 288,
    "geoCheckInterval": 900,
    "bgpCommunityUpdateInterval": 3600
  },

  "wireguard": {
    "wgCommandPath": "/usr/bin/wg",
    "ipv4": "172.23.91.132",
    "ipv6": "fd42:4242:2189:118::1",
    "ipv6LinkLocal": "fe80::118",
    "privateKeyPath": "/etc/wireguard/privatekey",
    "publicKeyPath": "/etc/wireguard/publickey",
    "persistentKeepaliveInterval": 25,
    "allowedIps": "172.16.0.0/12,10.0.0.0/8,fd00::/8,fe80::/10",
    "dnsUpdateInterval": 60,
    "localEndpointHost":"jp-118.dn42.iedon.net",
    "dn42BandwidthCommunity": 24,
    "dn42InterfaceSecurityCommunity": 34
  },

  "gre": {
    "ipv4": "172.23.91.132",
    "ipv6": "fd42:4242:2189:118::1",
    "ipv6LinkLocal": "fe80::118",
    "localEndpointHost4":"1.1.1.1",
    "localEndpointHost6":"fd00::1",
    "dn42BandwidthCommunity": 24,
    "dn42InterfaceSecurityCommunity": 31
  }
}
